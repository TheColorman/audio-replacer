(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(5075)}])},5075:function(e,t,n){"use strict";n.r(t);var r=n(4051),s=n.n(r),l=n(5893),a=n(7294),o=n(9008),i=n(214),c=n.n(i),u=n(5857),d=n(2351),m=n(9104),x=n(5045),h=n(1163);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t,n,r,s,l,a){try{var o=e[l](a),i=o.value}catch(c){return void n(c)}o.done?t(i):Promise.resolve(i).then(r,s)}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,l=[],a=!0,o=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);a=!0);}catch(i){o=!0,s=i}finally{try{a||null==n.return||n.return()}finally{if(o)throw s}}return l}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var j=function(){return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("h1",{className:c().title,children:"Audio Video Mixer"})})};t.default=function(){var e=v(a.useState(0),2),t=e[0],n=e[1],r=v(a.useState(null),2),i=r[0],p=r[1],b=v(a.useState(null),2),w=b[0],N=b[1],g=(0,h.useRouter)(),y=function(){n((function(e){return e+1}))},_=function(){n((function(e){return e-1}))},k=function(){g.reload()},S=function(e){if(e.target.files&&e.target.files[0]){var t=e.target.files[0];p(t)}},C=function(e){if(e.target.files&&e.target.files[0]){var t=e.target.files[0];N(t)}},L=function(){return(0,l.jsxs)("div",{className:"min-w-fit flex mt-8 items-center",children:[i&&(0,l.jsx)("div",{className:"bg-gray-500 w-48 aspect-video relative",children:(0,l.jsx)("div",{className:"w-full h-8 bg-black/80 bottom-0 absolute",children:(0,l.jsx)("p",{className:"text-sm text-white p-1",children:i.name})})}),w&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h1",{className:"text-8xl",children:"+"}),(0,l.jsx)("div",{className:"bg-gray-500 w-48 aspect-video relative",children:(0,l.jsx)("div",{className:"w-full h-8 bg-black/80 bottom-0 absolute",children:(0,l.jsx)("p",{className:"text-sm text-white p-1",children:w.name})})})]}),i&&w&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h1",{className:"text-8xl",children:"="}),(0,l.jsx)("div",{className:"bg-gray-500 w-48 aspect-video relative",children:(0,l.jsx)("div",{className:"w-full h-8 bg-black/80 bottom-0 absolute",children:(0,l.jsx)("p",{className:"text-sm text-white p-1",children:"Output video"})})})]})]})},P=function(){var e=v(a.useState(null),2),t=e[0],n=e[1],r=Boolean(t);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("p",{className:c().description,children:["Add or replace audio on a video. ",(0,l.jsx)("br",{}),"Get started by uploading a video or inserting a link."]}),(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsxs)("div",{className:"flex flex-row",children:[(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsxs)("label",{htmlFor:"upload-video",className:"".concat(c().buttonPrimary," hover:cursor-pointer inline-flex h-full"),children:[(0,l.jsx)("p",{className:"absolute left-1/2 -translate-x-1/2 -top-5 text-sm text-black align-text-bottom w-screen",children:i?i.name:""}),(0,l.jsx)("span",{className:"mr-1",children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})})}),"Upload video"]}),(0,l.jsx)("input",{className:"absolute w-0 h-0",id:"upload-video",type:"file",accept:"video/*",onChange:S})]}),(0,l.jsx)("div",{className:"mx-2 flex items-center text-center",children:(0,l.jsx)("p",{className:"text-lg text-slate-500",children:"or"})}),(0,l.jsxs)("div",{className:"flex flex-col relative",children:[(0,l.jsx)("div",{className:c().urlInput,children:(0,l.jsx)("input",{className:"focus:outline-none min-w-[20rem]",id:"url-input",type:"url",placeholder:" Enter URL (e.g. https://youtu.be/...)"})}),(0,l.jsxs)("p",{className:"absolute -bottom-4 left-1 text-xs text-blue-600 hover:underline hover:cursor-pointer",children:[(0,l.jsx)("a",{"aria-describedby":"links-popover",onClick:function(e){n(e.currentTarget)},children:"Supported URLs"}),(0,l.jsx)(m.Z,{children:(0,l.jsx)(u.ZP,{id:"links-popover",open:r,anchorEl:t,onClose:function(){n(null)},anchorOrigin:{vertical:"bottom",horizontal:"left"},children:(0,l.jsxs)("div",{className:"p-3 pb-0",children:[(0,l.jsx)("p",{className:"text-base",children:"The following URLs are supported:"}),(0,l.jsxs)("p",{className:c().code+" text-sm",children:["youtu.be/ ",(0,l.jsx)("br",{}),"youtube.com/"]})]})})})]})]})]}),(0,l.jsxs)("div",{className:"flex mt-6 w-full space-x-4",children:[(0,l.jsx)("button",{className:"".concat(c().buttonSecondaryDisabled," w-full"),children:"Back"}),i?(0,l.jsx)("button",{className:"".concat(c().buttonPrimary," w-full"),onClick:y,children:"Continue"}):(0,l.jsx)("button",{className:"".concat(c().buttonPrimaryDisabled," w-full"),children:"Continue"})]})]}),(0,l.jsx)(L,{})]})},F=function(){var e=v(a.useState(null),2),t=e[0],n=e[1],r=Boolean(t);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("p",{className:c().description,children:["Upload a video, audio or insert a link. ",(0,l.jsx)("br",{}),"This will be used as the audio source."]}),(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsxs)("div",{className:"flex flex-row",children:[(0,l.jsxs)("div",{className:c().buttonPrimary,children:[(0,l.jsx)("p",{className:"absolute left-1/2 -translate-x-1/2 -top-5 text-sm text-black align-text-bottom w-screen",children:w?w.name:""}),(0,l.jsxs)("label",{htmlFor:"upload-video",className:"hover:cursor-pointer inline-flex",children:[(0,l.jsx)("span",{className:"mr-1",children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})})}),"Upload video/audio"]}),(0,l.jsx)("input",{className:"absolute w-0 h-0",id:"upload-video",type:"file",accept:"video/*, audio/*",onChange:C})]}),(0,l.jsx)("div",{className:"mx-2 flex items-center text-center",children:(0,l.jsx)("p",{className:"text-lg text-slate-500",children:"or"})}),(0,l.jsxs)("div",{className:"flex flex-col relative",children:[(0,l.jsx)("div",{className:c().urlInput,children:(0,l.jsx)("input",{className:"focus:outline-none min-w-[20rem]",id:"url-input",type:"url",placeholder:" Enter URL (e.g. https://youtu.be/...)"})}),(0,l.jsxs)("p",{className:"absolute -bottom-4 left-1 text-xs text-blue-600 hover:underline hover:cursor-pointer",children:[(0,l.jsx)("a",{"aria-describedby":"links-popover",onClick:function(e){n(e.currentTarget)},children:"Supported URLs"}),(0,l.jsx)(m.Z,{children:(0,l.jsx)(u.ZP,{id:"links-popover",open:r,anchorEl:t,onClose:function(){n(null)},anchorOrigin:{vertical:"bottom",horizontal:"left"},children:(0,l.jsxs)("div",{className:"p-3 pb-0",children:[(0,l.jsx)("p",{className:"text-base",children:"The following URLs are supported:"}),(0,l.jsxs)("p",{className:c().code+" text-sm",children:["youtu.be/ ",(0,l.jsx)("br",{}),"youtube.com/"]})]})})})]})]})]}),(0,l.jsxs)("div",{className:"flex mt-6 w-full space-x-4",children:[(0,l.jsx)("button",{className:"".concat(c().buttonSecondary," w-full"),onClick:_,children:"Back"}),w?(0,l.jsx)("button",{className:"".concat(c().buttonPrimary," w-full"),onClick:y,children:"Continue"}):(0,l.jsx)("button",{className:"".concat(c().buttonPrimaryDisabled," w-full"),children:"Continue"})]})]}),(0,l.jsx)(L,{})]})},E=function(){var e=v(a.useState(0),2),t=e[0],n=e[1],r=v(a.useState([]),2),o=r[0],u=r[1],h=v(a.useState(""),2),p=h[0],j=h[1],b=v(a.useState(!1),2),N=b[0],g=b[1],y=v(a.useState(!1),2),_=y[0],S=y[1],C=function(){var e,t=(e=s().mark((function e(){var t,r,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==i&&null!==w){e.next=2;break}return e.abrupt("return","error");case 2:return t=(0,x.createFFmpeg)({corePath:"/ffmpeg/ffmpeg-core.js",log:!0}),u(o.concat(["Loading ffmpeg..."])),e.next=6,t.load();case 6:return t.setProgress((function(e){var t=e.ratio;n(t>1?t:100*t)})),u(o.concat("Writing video input...")),e.t0=t,e.next=11,(0,x.fetchFile)(i);case 11:return e.t1=e.sent,e.t0.FS.call(e.t0,"writeFile","video.mp4",e.t1),u(o.concat("Writing audio input...")),e.t2=t,e.next=17,(0,x.fetchFile)(w);case 17:return e.t3=e.sent,e.t2.FS.call(e.t2,"writeFile","audio.mp3",e.t3),u(o.concat("Transmuxing...")),e.next=22,t.run("-i","video.mp4","-i","audio.mp3","-c:v","copy","-map","0:v:0","-map","1:a:0","output.mp4","-shortest");case 22:u(o.concat("Exporting video...")),r=t.FS("readFile","output.mp4"),l=URL.createObjectURL(new Blob([r.buffer],{type:"video/mp4"})),n(100),g(!0),u(o.concat("Done!")),j(l),setTimeout((function(){S(!0),t.exit()}),1e3);case 30:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,s){var l=e.apply(t,n);function a(e){f(l,r,s,a,o,"next",e)}function o(e){f(l,r,s,a,o,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();return(0,a.useEffect)((function(){N||C()}),[]),_?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("p",{className:c().description,children:"Your video is ready!"}),(0,l.jsxs)("div",{className:"flex flex-col items-center",children:[(0,l.jsx)("div",{className:"bg-gray-600 w-80 aspect-video relative",children:(0,l.jsx)("div",{className:"w-full h-8 bg-black bottom-0 absolute",children:(0,l.jsx)("p",{className:"text-sm text-white p-1",children:"Video name"})})}),(0,l.jsxs)("div",{className:"flex mt-4 w-full space-x-4",children:[(0,l.jsxs)("button",{className:"".concat(c().buttonSecondary," w-full"),children:[(0,l.jsx)("span",{className:"mr-1",children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})})}),"Copy URL"]}),(0,l.jsxs)("a",{className:"".concat(c().buttonPrimary," w-full"),rel:"noreferrer",target:"_blank",href:p,download:"output.mp4",children:[(0,l.jsx)("span",{className:"mr-1",children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})}),"Download video"]})]}),(0,l.jsx)("div",{className:"flex mt-12 w-full",children:(0,l.jsx)("button",{className:"".concat(c().buttonPrimary," w-full"),onClick:k,children:"Create a new video"})})]}),(0,l.jsx)(L,{})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("p",{className:c().description,children:"Creating your video..."}),(0,l.jsxs)("div",{className:"w-1/2 flex flex-col",children:[(0,l.jsx)("div",{className:"text-lg",children:o.map((function(e,t){return(0,l.jsxs)("p",{children:[e," ",(0,l.jsx)("br",{})]},t)}))}),(0,l.jsx)(m.Z,{children:(0,l.jsx)(d.Z,{variant:"determinate",value:t})})]})]})},H=[(0,l.jsx)(P,{},0),(0,l.jsx)(F,{},1),(0,l.jsx)(E,{},2)];return(0,l.jsxs)("div",{className:c().container,children:[(0,l.jsxs)(o.default,{children:[(0,l.jsx)("title",{children:"Video Audio Mixer"}),(0,l.jsx)("meta",{name:"description",content:"Easily replace or add sound on a video"}),(0,l.jsx)("link",{rel:"icon",href:"/favicon_io/favicon.ico"})]}),(0,l.jsxs)("main",{className:c().main,children:[(0,l.jsx)(j,{}),H[t]]}),(0,l.jsx)("footer",{className:c().footer,children:(0,l.jsxs)("a",{href:"https://colorman.me",target:"_blank",rel:"noopener noreferrer",children:["Powered by Colorman"," ",(0,l.jsx)("span",{className:c().logo})]})})]})}},214:function(e){e.exports={container:"Home_container__bCOhY",main:"Home_main__nLjiQ",footer:"Home_footer____T7K",title:"Home_title__T09hD",description:"Home_description__41Owk",code:"Home_code__suPER",grid:"Home_grid__GxQ85",card:"Home_card___LpL1",logo:"Home_logo__27_tb",buttonPrimary:"Home_buttonPrimary__TbjMj",buttonPrimaryDisabled:"Home_buttonPrimaryDisabled__ETG3H",buttonSecondary:"Home_buttonSecondary__VpPmW",buttonSecondaryDisabled:"Home_buttonSecondaryDisabled__EidmQ",urlInput:"Home_urlInput__bkR1M"}}},function(e){e.O(0,[350,774,888,179],(function(){return t=5301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);